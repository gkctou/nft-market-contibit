---

tags: Contibit

---

Contibit NFT Market UI Components
===

---

## 文件核心
- 描述所有頁面動態元件
- 2022-05-18v0.1

---

## a)天
![](https://hackmd.io/_uploads/ryOTVUlcq.png)

- 載入動作：取得目前 token 使用者/購物車資訊
- Logo：首頁連結
- NFT 集合：連結
- 我的 NFT：連結
- 上架清單：連結
- 我的 Widget：連結
- 搜尋框：
    - 輸入關鍵字，顯示下拉符合之 NFT 集合
    - 點擊下拉内集合至 NFT 清單頁面
    - 點擊enter（搜尋）至 NFT 集合頁面（符合該關鍵字）
- 登入：連結
- 注冊：連結
- 會員ICON：下拉選單+ETH/USDT餘額
    - 基本資訊：連結
    - 錢包：連結
    - 交易記錄：連結
    - 登出：注銷並刪除token -> 返回首頁
- 購物車ICON：展開 或 收攏 購物車欄

---

## b登入/)注冊頁面
![](https://hackmd.io/_uploads/ryqdVLeq9.png)

- 載入動作：無
- 注冊表單
    - email 賬號：前端檢查格式、後端檢查重複
    - email 檢驗碼：輸入框
        - 發送按鈕：顯示倒數計時
    - 手機號碼：前端檢查格式、後端檢查重複
    - 手機 檢驗碼：輸入框
        - 發送按鈕：顯示倒數計時
    - 密碼：正規密碼格式要求
    - 重複密碼：與密碼一致
- 注冊按鈕：成功後立即登入並返回首頁
- 登入表單
    - email：登入賬號
    - 密碼：輸入框
- 登入按鈕：成功後返回首頁
- 忘記密碼：連結

---

## e)忘記密碼頁面
- 載入動作：無
- 表單
    - email：登入賬號
    - email 檢驗碼：輸入框
        - 發送按鈕：顯示倒數計時 
    - 手機 檢驗碼：輸入框
        - 發送按鈕：發送簡訊，顯示倒數計時
    - 新密碼：正規密碼格式要求
    - 確認密碼：檢查一致性
- 重設按鈕：成功後登入 轉跳首頁
- 登入：連結
- 注冊：連結

---

## f)NFT 集合頁面
- 集合分類首頁
- ![](https://hackmd.io/_uploads/r1ZQSLxqc.png)
- 集合分類内容及搜尋列表
- ![](https://hackmd.io/_uploads/r1FHHLgqc.png)
- 參考：[raritysniper](https://raritysniper.com/nft-collections)
- 載入動作：依照URL所帶關鍵字/過濾/排序條件，向後端載入資料集合
- 過濾條件：
    - 關鍵字
    - 分類
    - ~~主鏈(多選)~~
    - ~~地板價（範圍）~~
    - ~~總市值（範圍）~~
    - ~~發行時間（範圍）~~
    - ~~供應量（範圍）~~
- 格狀集合清單内容
    - 編號n的圖
    - 名稱
    - ~~主鏈~~
    - ~~地板價~~
    - ~~總市值~~
    - ~~發行時間~~
- 點擊集合跳轉至 NFT 瀏覽頁面
- 無限列表清單

---

## g)NFT 瀏覽頁面
- 參考：[gem](https://www.gem.xyz/collection/furyofthefurdao/) / [稀有度計算](https://raritytools.medium.com/ranking-rarity-understanding-rarity-calculation-methods-86ceaeb9b98c)
- 載入動作：依照URL所帶 NFT集合名稱 /過濾/排序條件，向後端載入資料集合
- 過濾條件：
    - Buy Now
    - 上架平臺（自家、OpenSea，多選）
    - ID（範圍）
    - 稀有度排行（範圍）
    - 售價（範圍）
    - ~~特徵數（1..n，多選）~~
    - 屬性值（多欄多選）
- 排序條件：
    - 價格 正向及逆向
    - 稀有度 正向及逆向
    - ID 正向及逆向
- 格狀清單内容
    - 圖
    - 上架平臺 Icons
    - ID
    - 稀有度排行
    - 售價
    - 加入購物車Icon
    - 詳細按鈕:點擊彈窗顯示詳細資料
- 點擊圖片預設為加入購物車，再次點擊為移出購物車
- 無限列表清單
- 購物車側邊欄
    - 清單
        - 圖
        - 價格（原生幣）
        - 價格（USD）
        - 移除 Icon
        - NFT 名稱
        - NFT 集合名稱
        - 主鏈 Icon
        - 賣場 Icon
    - 總價（原生幣）
    - 總價（USD）
    - 結賬按鈕：轉跳至 支付頁面

---

## h)NFT 支付頁面
- 參考：[gem](https://www.gem.xyz/tokens)
- 載入動作：取得使用者錢包明細，載入購物車明細
- 購物車側邊欄
    - 清單
        - 圖
        - 價格（原生幣）
        - 價格（USD）
        - 移除 Icon
        - NFT 名稱
        - NFT 集合名稱
        - 主鏈 Icon
        - 賣場 Icon
    - 應付總價（原生幣）
    - 支付
        - 使用 ETH（金額）：帶移除 Icon
        - 使用 USDT（金額/換匯後ETH金額）：帶移除 Icon
    - 支付總額（原生幣）
    - 結賬按鈕：支付總額大於應付總價時可點擊 跳轉至 結賬頁面
- ETH 按鈕：加入/移除 ETH 支付方式
    - 目前錢包餘額
    - 已選時高亮
- USDT 按鈕：加入/移除 USDT 支付方式
    - 目前錢包餘額
    - 已選時高亮

---

## i)NFT 結賬頁面
- 參考：[gem](https://www.gem.xyz/review)
- 載入動作：若URL帶訂單編號，載入交易狀態，否則載入購物車明細
- 訂單明細
    - 左側 商品清單：
        - 圖
        - 價格（原生幣）
        - NFT 名稱
        - NFT 集合名稱
        - 主鏈 Icon
        - 賣場 Icon
    - 右側 支付清單：
        - 以太鏈
            - 商品總價（+）
            - GAS費用（+）
            - By ETH（-）
            - By USDT（-）
        - 幣安鏈
            - 商品總價（+）
            - GAS費用（+）
            - By BNB（-）
            - By USDT（-）
        - ....鏈
    - 下方 應付總計：
        - ETH：錢包支出總額
        - BNB：錢包支出總額
        - USDT：錢包支出總額
- 確認交易按鈕：每隔30秒更新欲購商品資訊（價格）及重新計算支付總額是否足夠，以設定按鈕是否可以點擊
    1. 更新欲購商品資訊（價格）及重新計算支付總額
    2. 呼叫執行交易API（鎖定錢包應付總額），取得訂單編號及交易狀態明細
    3. 定時更新交易狀態至交易完成
- 交易狀態：交易步奏
    1. 換匯
    2. 站内購買1，2，3...
    3. 外站購買1，2，3...
    4. 若有交易失敗，則解鎖餘額
    5. 完成

---

## j)我的 NFT
- 參考：[gem](https://www.gem.xyz/sell)
- 載入動作：取得使用者NFT清單(以入賬時間倒排序)，並載入上架車明細
- 匯入 NFT 按鈕：連結
- 格狀清單内容
    - 鏈
	- 圖
	- 上架平臺 Icons
	- 集合名稱
	- ID
	- NFT 名稱
	- 稀有度排行
	- 售價
	- 加入Icon
	- 鎖倉Icon（浮動顯示日期/理由）
	- 詳細按鈕:點擊彈窗顯示詳細資料
- 過濾條件
    - 鏈（多選）
    - NFT 集合
    - 交易平臺（已上架）
    - 關鍵字過濾（集合名、NFT名、ID）
- 點擊圖片預設為加入上架車，再次點擊為移出上架車
- 右側頁簽 上架車
    - 清單
    	- 圖
		- 集合名稱
		- ID
		- NFT 名稱
    - 上架按鈕：跳轉至上架設定頁面
- 右側頁簽 提領車（需先選擇鏈方可加入提領車，或視第一個加入的NFT自動選擇鏈）
    - 選擇鏈（下拉單選）
    - 輸入錢包地址（連接 Metamask）
    - 清單：clear 按鈕
    	- 圖
		- 集合名稱
		- ID
		- NFT 名稱
        - 移除按鈕
    - GAS 費用（原生幣）
    - 支付幣種：顯示總額，以選擇支付方式扣除
        - ETH
        - BNB
        - USDT：顯示換匯數
    - 提領按鈕
        1. 鎖定費用
        2. 返回提領批號及處理狀態
    - 處理清單
        1. 扣賬
        2. 匯出 NFT:1,2,3...
        3. 完成：提示成功後，reset 頁面

---

## k)上架設定頁面
- 參考：[gem](https://www.gem.xyz/list/review)
- 載入動作：取得使用者上架車價格設定表
- 價格設定表
    - 上架平臺
    - 鏈
    - 圖
    - 集合名稱
    - NFT名稱
    - ID
    - 最後成交價
    - ~~建議售價（？）~~
    - 價格設定框：數字輸入
    - 價格單位 Icon
    - 平臺手續費（%）
    - NFT版稅（%）
    - 移除按鈕
- 上架市場開關（多選）
    - 站内（Contibit）
    - Opensea
- 設定上架期間（下拉日數）
- 右側 上架明細
    - 上架清單
        - 縂售價
            - ETH
            - BNB
        - 平臺手續費
            - ETH
            - BNB
        - 版稅
            - ETH
            - BNB
        - 完售收入
            - ETH
            - BNB
        - 應付 Gas 費
            - ETH
            - BNB
        - 選擇支付幣種
            - ETH
            - BNB
            - USDT：帶入換匯計算結果
        - 實付金額
            - ETH
            - BNB
            - USDT
    - 執行上架按鈕
        1. 檢查錢包餘額並鎖定
        2. 檢查是否依然持有 NFT
        3. 回傳上架處理批號及清單
    - 處理清單
        1. 扣賬
        2. 站内上架：1，2，3...
        3. 外站上架：1，2，3...
        4. 完成：彈窗提示轉跳至 已上架頁面

---

## l)匯入 NFT 頁面
- 參考：[gem](https://www.gem.xyz/sell)
- 載入動作：無
- 連結冷錢包按鈕：顯示目前連接錢包地址
- 選擇公鏈：連結後自動設定，手動選擇時提示使用者切換冷錢包的公鏈
- 載入（更新）：鏈接或選擇公鏈後自動載入，點擊後更新
- 格狀清單内容
    - 鏈
	- 圖
	- 集合名稱
	- ID
	- NFT 名稱
	- 單筆匯入按鈕
	    - 關聯會員、匯入錢包、並取得匯入地址
	    - 呼叫客戶端冷錢包執行 NFT 傳送交易
- 右側 匯入清單：clear 按鈕
    - 清單
    	- 圖
		- 集合名稱
		- ID
		- NFT 名稱
        - 移除按鈕
    - 匯入按鈕
        - 單筆：
            - 使用 單筆匯入按鈕 流程
        - 多筆：
            - 回傳清單進行關聯並取得各 NFT 匯入錢包地址
            - 呼叫冷錢包 執行批次轉賬合約
        
---

## m)基本資訊【頁面】
- 參考：[bitget](https://www.bitget.com/zh-TW/account/setting)
- 載入動作：載入會員基本資料
- email：目前登入賬號
- 密碼修改按鈕：彈窗
    - 舊密碼
    - 新密碼
    - 確認新密碼
    - 送出
- 手機修改按鈕：彈窗
    - 新手機號碼
    - 新手機驗證碼
    - 送出

---

## n)錢包【頁面】
- 參考：
    - ![](https://hackmd.io/_uploads/rkkmpaxPq.png)<br/>![](https://hackmd.io/_uploads/SkAS6alP5.png)
- 載入動作：載入錢包資訊及進出記錄
- 錢包清單：
    - 幣種
    - 總額
    - 鎖定額
    - 可用餘額
    - 加值按鈕：彈窗
        - 以太鏈：存入地址
        - 幣安鏈：存入地址
    - 提領按鈕：彈窗
        - 公鏈選擇：下拉
        - 存入地址：輸入框
        - 提領金額
        - 手機驗證碼：帶倒數送出驗證碼按鈕
        - 確認提領
    - ~~購買按鈕：彈窗~~
- 進出明細：帶 更新按鈕
    - 時間
    - 幣種
    - 動作：加值/提領
    - 數量
    - 狀態

---

## o)交易記錄【頁面】
- 參考：![](https://hackmd.io/_uploads/BJl3pTeDc.png)
- 載入動作：載入最近一個月交易記錄
- 日期區間：開始日期~結束日期
- 查詢按鈕
- 交易記錄：
    - 時間
    - 内容：幣種/NFT集合、編號
    - 動作：加值/提領/GAS/匯入/提領/購買/售出
    - 數量
    - 狀態
- 分頁

---

## p)我的 Widget 頁面
- 參考：[]()
- 載入動作：載入登入使用者 widgets 清單
- 切換顯示已刪除項目
- 清單
    - widget 名稱
    - 建立日期
    - 狀態：啓用/停用/測試/待審
    - 所屬公鏈
    - 交易次數
    - 交易數量
    - 交易總額
    - 圖
    - 檢視/編輯/
- 新增Widget按鈕：彈出編輯視窗
    - widget 名稱
    - NFT 系列名稱
    - 大圖（系列）
    - 小圖（卡面）
    - 官網/社區 網址
    - 成功返回網址：固定為 我的 NFT 頁面（以入賬時間倒排序）
    - 取消返回網址
    - 所屬公鏈：選擇公鏈後帶入原生幣種單位
    - 合約地址
    - 鑄造 function 名稱
    - 帶入參數：數量
        - 無
        - 固定
        - 範圍：min/max
    - 購買數量
        - 固定
        - 同帶入參數
    - 傳送金額
        - 固定
        - 單價：倍數於帶入參數
    - 儲存/送審/待審（取消）/停用/測試 按鈕
    - widget 編號
    - 購買連結
    - 嵌入程式碼

---

## q)Widget 登入/註冊頁面（外部）
<!-- - 參考：[]() -->
- 載入動作：已登入者跳轉至 執行交易頁，否則依 widget 編號載入資訊
- 上部
    - widget 資訊
    - 交易流程説明
- 左側：同登入頁面
- 右側：同注冊頁面
- 登入後跳轉至 執行交易頁

---

## r)Widget 執行交易頁面（外部）
<!-- - 參考：[]() -->
- 載入動作：依 widget 編號載入商品資訊、載入使用者及其錢包資訊
- 登出/取消 按鈕：跳轉至 widget 設定取消頁面
- 上部
    - widget 資訊
    - 交易流程説明
- 左側：商品資訊（數量）
    - 商品總額
    - GAS 費用
    - 應付總額（原生幣）
- 右側：
    - 登入者資訊
    - 支付設定
        - 選擇 ETH：支付額/錢包餘額
        - 選擇 USDT：換匯額/支付額/錢包餘額
    - 支付總額（ETH）
- 執行交易按鈕
    - 檢查交易條件
    - API 執行交易取回 訂單編號及交易狀態
    - 每15秒以訂單編號更新交易狀態
- 執行狀態
    - 執行換匯
    - 鎖閉交易額
    - 執行鏈上交易：...
    - 確認鏈上交易：...
    - 扣賬
    - 返還 gas 餘額
    - 成功：提示後轉跳至 我的NFT頁面

---
