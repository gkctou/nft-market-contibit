---

tags: Contibit

---

Contibit NFT Market UI Components
===

---

## 文件核心
- 描述所有頁面動態元件

版本修訂歷程
| 日期 | 版號 | 修改内容 |
|---|---|---|
| 2022-05-18 | v0.1 | 初始設計 |
| 2022-07-01 | v1.0 | 依照 2022-06-23 會議，加强中文敘述及調整參數書寫格式。 |

標題大綱
|項次|標題|頁次|
|---|---|---|
| # | 文件核心 |1|
| # | 版本修訂歷程 |1|
| # | 標題大綱 |1|
| a | 天 |2|
| b | 登入/注冊頁面 |4|
| c | 忘記密碼頁面 |5|
| d | NFT 集合頁面 |5|
| e | NFT 瀏覽頁面 |7|
| f | NFT 支付頁面 |10|
| g | NFT 結賬頁面 |11|
| h | 我的 NFT |14|
| i | 上架設定頁面 |18|
| j | 匯入 NFT 頁面 |21|
| k | 基本資訊【頁面】 |23|
| l | 錢包【頁面】 |24|
| m | 交易記錄【頁面】 |25|
| n | 我的 Widget 頁面 |26|
| o | Widget 登入/註冊頁面（外部） |28|
| p | Widget 執行交易頁面（外部） |29|


---

## a)天
- Wireframe：内容為首頁示意圖，主要在展示Header内容有哪些要素。
![](https://hackmd.io/_uploads/ryOTVUlcq.png)
- 載入動作：取得目前 token 使用者/購物車資訊
- Logo：首頁連結
- NFT 集合：連結
- 我的 NFT：連結
- 上架清單：連結
- 我的 Widget：連結
- 搜尋框：
    - 輸入關鍵字，顯示下拉符合之 NFT 集合
    - 點擊下拉内的集合至 NFT 清單頁面
    - 點擊enter（搜尋）至 NFT 集合頁面（符合該關鍵字）
- 登入：連結
- 注冊：連結
- 會員ICON：下拉選單+ETH/USDT餘額
    | 選單項目 | 内容 | 説明 |
    | --- | --- | --- |
    | 基本資訊 | 連結 | 會員設定頁面
    | 錢包 | 連結 | 錢包頁面
    | 交易記錄 | 連結 | 交易記錄頁面
    | 登出 | 注銷並刪除token | 返回首頁
- 購物車ICON：展開 或 收攏 購物車欄

---

## b)登入/注冊頁面
- Wireframe，展示將登入框和注冊框在最少頁數内實作。
![](https://hackmd.io/_uploads/ryqdVLeq9.png)
- 載入動作：無
- 注冊表單
    | 欄位 | 内容 | 説明 |
    | --- | --- | --- |
    | email 賬號 | 前端檢查格式、後端檢查重複 | |
    | email 檢驗碼 | 輸入框 | 發送按鈕：顯示倒數計時 |
    | 手機號碼 | 前端檢查格式、後端檢查重複 |
    | 手機 檢驗碼 | 輸入框 | 發送按鈕：顯示倒數計時 |
    | 密碼 | 正規密碼格式要求 |
    | 重複密碼 | 與密碼一致 |
- 注冊按鈕：成功後立即登入並返回首頁
- 登入表單
    | 欄位 | 内容 | 説明 |
    | --- | --- | --- |
    | email | 登入賬號 |
    | 密碼 | 輸入框 |
    | 登入按鈕 | 成功後返回首頁 |
    | 忘記密碼 | 連結 |

---

## c)忘記密碼頁面
- 載入動作：無
- 表單
    | 欄位 | 内容 | 説明 |
    | --- | --- | --- |
    | email | 登入賬號 |
    | email 檢驗碼 | 輸入框 | 發送按鈕：顯示倒數計時 |
    | 手機 檢驗碼 | 輸入框 | 發送按鈕：發送簡訊，顯示倒數計時 |
    | 新密碼 | 正規密碼格式要求 |
    | 確認密碼 | 檢查一致性 | 需要與新密碼欄位相符
    | 重設按鈕 | 成功後登入 轉跳首頁 |
    | 登入 | 連結 | 轉跳至登入頁面
    | 注冊 | 連結 | 轉跳至注冊頁面

---

## d)NFT 集合頁面
- 集合分類首頁(Wireframe)，這是一個分類展示頁面，將所有分類顯示前n個品相，點擊分類標題可以進入顯示該分類的全部頁面。
![](https://hackmd.io/_uploads/r1ZQSLxqc.png)
- 集合分類内容及搜尋列表(Wireframe)，這是一個分類内容列表 及 搜尋結果列表頁面。
![](https://hackmd.io/_uploads/r1FHHLgqc.png)
- 參考：[raritysniper](https://raritysniper.com/nft-collections)，這個是做爲上述2個分類頁面的設計參考來源，主要參考品相編排模式及頁面側邊欄結構，唯獨在我們的實作中只有2個維度可以搜尋（關鍵字和分類）。
![](https://hackmd.io/_uploads/SJMtG1h99.png)
- 載入動作：依照URL所帶關鍵字/過濾/排序條件，向後端載入資料集合
- 過濾條件：
    | 欄位 | 内容 | 説明 |
    | --- | --- | --- |
    | 關鍵字 | 搜尋字串 |
    | 分類 | 後臺自定義分類 |
- 格狀集合清單内容
    | 欄位 | 内容 | 説明 |
    | --- | --- | --- |
    | 編號n的圖 | 任取該系列圖檔
    | 名稱 | NFT Meta data 名稱
- 點擊集合跳轉至 NFT 瀏覽頁面
- 無限列表清單

---

## e)NFT 瀏覽頁面
- 參考：[gem](https://www.gem.xyz/collection/furyofthefurdao/) / [稀有度計算](https://raritytools.medium.com/ranking-rarity-understanding-rarity-calculation-methods-86ceaeb9b98c)，這是進入到NFT集合内的展示頁面，需要參考的是左側的過濾欄位設計以及購物車模式。中間物品列表的形式大致相同，可以截取它在已加入購物車時的雙向高亮的提示模式。
![](https://hackmd.io/_uploads/SJFYQ12q9.png)
- 載入動作：依照URL所帶 NFT集合名稱 /過濾/排序條件，向後端載入資料集合
- 過濾條件：
    | 欄位 | 内容 | 説明 |
    | --- | --- | --- |
    | Buy Now | Switch button | 是否販售中
    | 上架平臺 | 自家、OpenSea | 多選
    | ID | 範圍
    | 稀有度排行 | 範圍
    | 售價 | 範圍
    | 屬性值 | 多欄多選
- 排序條件：
    | 欄位 | 内容 | 説明 |
    | --- | --- | --- |
    | 價格 | 數值 | 正向及逆向
    | 稀有度 | 數值 | 正向及逆向
    | ID | 數值 | 正向及逆向
- 格狀清單内容
    | 欄位 | 内容 | 説明 |
    | --- | --- | --- |
    | 圖 | NFT 主圖
    | 上架平臺 Icons | 自家/Opensea
    | ID | 數值
    | 稀有度排行 | 數值
    | 售價 | 數值
    | 加入購物車Icon | 點擊加入目前購物車
    | 詳細按鈕 | 點擊彈窗顯示詳細資料
- 點擊圖片預設為加入購物車，再次點擊為移出購物車。
- 在顯示列表上使用無限列表清單，下拉到底會繼續載入。
- 購物車側邊欄
    - 清單
        | 欄位 | 内容 | 説明 |
        | --- | --- | --- |
        | 圖 | NFT 主圖
        | 價格（原生幣） | 數值
        | 價格（USD） | 數值
        | 移除 Icon | 移出購物車
        | NFT 名稱 | Meta data 名稱
        | NFT 集合名稱 | Collection 名稱
        | 主鏈 Icon | ETH/BSC...
        | 賣場 Icon | 自家/opensea
    - 總價（原生幣）
    - 總價（USD）
    - 結賬按鈕：轉跳至 支付頁面

---

## f)NFT 支付頁面
- 參考：[gem](https://www.gem.xyz/tokens)，主要參考它的支付貨幣選擇模式。
![](https://hackmd.io/_uploads/SJp38J295.png)
- 載入動作：取得使用者錢包明細，載入購物車明細
- 購物車側邊欄
    - 清單
        | 欄位 | 内容 | 説明 |
        | --- | --- | --- |
        | 圖 | NFT 主圖
        | 價格（原生幣） | 數值
        | 價格（USD） | 數值
        | 移除 Icon | 移出購物車
        | NFT 名稱 | Meta data 名稱
        | NFT 集合名稱 | Collection 名稱
        | 主鏈 Iconn | ETH/BSC...
        | 賣場 Icon | 自家/opensea
    - 應付總價（原生幣）
    - 支付
        | 欄位 | 内容 | 説明 |
        | --- | --- | --- |
        | 使用 ETH | 金額 | 帶移除 Icon
        | 使用 USDT | 金額/換匯後ETH金額| 帶移除 Icon
    - 支付總額（原生幣）
    - 結賬按鈕：支付總額大於應付總價時可點擊 跳轉至 結賬頁面
- ETH 按鈕：加入/移除 ETH 支付方式
    - 目前錢包餘額
    - 已選時高亮
- USDT 按鈕：加入/移除 USDT 支付方式
    - 目前錢包餘額
    - 已選時高亮

---

## g)NFT 結賬頁面
- 參考：[gem](https://www.gem.xyz/review)，在結賬頁面的中間使用左右分欄作爲購買物品及支付方式、金額的顯示方式。
![](https://hackmd.io/_uploads/BynYUk3q9.png)
- 載入動作：若URL帶訂單編號代表指定顯示既有訂單，載入交易狀態，否則載入購物車明細（新訂單）
- 訂單明細
    - 左側 商品清單：
        | 欄位 | 内容 | 説明 |
        | --- | --- | --- |
        | 圖 | NFT 主圖
        | 價格（原生幣）| 數值
        | NFT 名稱| Meta data 名稱
        | NFT 集合名稱 | Collection 名稱
        | 主鏈 Icon | ETH/BSC...
        | 賣場 Icon | 自家/opensea
    - 右側 支付清單：
        - 以太鏈、幣安鏈 ...
            | 欄位 | 内容 | 説明 |
            | --- | --- | --- |
            | 商品總價|數值|（+）
            | GAS費用|數值|（+）
            | By ETH|數值|（-）
            | By USDT|數值|（-）
    - 下方 應付總計：
        | 欄位 | 内容 | 説明 |
        | --- | --- | --- |
        | ETH|數值|錢包支出總額
        | BNB|數值|錢包支出總額
        | USDT|數值|錢包支出總額
- 確認交易按鈕：每隔30秒更新欲購商品資訊（價格）及重新計算支付總額是否足夠，以設定按鈕是否可以點擊
    ```mermaid
    flowchart TD
        s((start)) --> a[更新欲購商品資訊價格\n及重新計算支付總額]
        a --> b[呼叫執行交易API\n鎖定錢包應付總額\n取得訂單編號及交易狀態明細]
        b --> c[定時更新交易狀態\n至交易完成]
        c --> z((end))
    ```
- 交易狀態：交易步奏
    ```mermaid
        flowchart TD
            s((start)) --> a[換匯]
            a --> b[站内購買123...]
            b --> c[外站購買123...]
            c --> d[若有交易失敗\n則解鎖歸還部分餘額]
            d --> z((end))
    ```
---

## h)我的 NFT
- 參考：[gem](https://www.gem.xyz/sell)，簡單參考物件排列方式和右側購物車結構。
![](https://hackmd.io/_uploads/B1BMwy25q.png)
- 載入動作：取得使用者NFT清單(以入賬時間倒排序)，並載入之前存入的上架車明細
- 匯入 NFT 按鈕：連結
- 格狀清單内容
    | 欄位 | 内容 | 説明 |
    | --- | --- | --- |
    | 鏈| ETH/BSC...
	| 圖| NFT 主圖
	| 上架平臺 Icons| 自家/opensea
	| 集合名稱| Collection 名稱
	| ID | 數值
	| NFT 名稱| Meta data 名稱
	| 稀有度排行 | 數值
	| 售價 | 數值
	| 加入Icon|加入購物車
	| 鎖倉Icon（浮動顯示日期/理由）|顯示
	| 詳細按鈕|點擊彈窗顯示詳細資料
- 過濾條件
    | 欄位 | 内容 | 説明 |
    | --- | --- | --- |
    | 鏈（多選）| ETH/BSC...
    | NFT 集合| Collection 名稱
    | 交易平臺（已上架）| 自家/opensea
    | 關鍵字過濾|集合名、NFT名、ID
- 點擊圖片預設為加入上架車，再次點擊為移出上架車
- 右側頁簽 上架車
    - 清單
        | 欄位 | 内容 | 説明 |
        | --- | --- | --- |
    	| 圖 | NFT 主圖
		| 集合名稱 | Collection 名稱
		| ID | 數值
		| NFT 名稱 | Meta data 名稱
    - 上架按鈕：跳轉至上架設定頁面
- 右側頁簽 提領車（需先選擇鏈方可加入提領車，或視第一個加入的NFT自動選擇鏈）
    - 選擇鏈（下拉單選）
    - 輸入錢包地址（連接 Metamask）
    - 清單：clear 按鈕
        | 欄位 | 内容 | 説明 |
        | --- | --- | --- |
    	| 圖 | NFT 主圖
		| 集合名稱| Collection 名稱
		| ID | 數值
		| NFT 名稱| Meta data 名稱
        | 移除按鈕|點擊移除
    - GAS 費用（原生幣）
    - 支付幣種：顯示總額，以選擇支付方式扣除
        | 欄位 | 内容 | 説明 |
        | --- | --- | --- |
        | ETH| 數值
        | BNB| 數值
        | USDT| 數值|顯示換匯數
    - 提領按鈕
        ```mermaid
        flowchart TD
            s((start)) --> a[鎖定費用]
            a --> b[返回提領批號及處理狀態]
            b --> z((end))
        ```
    - 處理清單
        ```mermaid
        flowchart TD
            s((start)) --> a[扣賬]
            a --> b[匯出\nNFT 123...]
            b --> c[完成\n提示成功後reset 頁面]
            c --> z((end))
        ```

---

## i)上架設定頁面
- 參考：[gem](https://www.gem.xyz/list/review)，可以完全參照本頁面實作，基本上在批次上架的模式中這個頁面的所有設計都沒有問題。
![](https://hackmd.io/_uploads/H11YPk25c.png)
- 載入動作：取得使用者上架車中既有物件的價格設定表顯示在設定頁面中
- 價格設定表
    | 欄位 | 内容 | 説明 |
    | --- | --- | --- |
    | 上架平臺| 自家/opensea
    | 鏈 | ETH/BSC...
    | 圖 | NFT 主圖
    | 集合名稱 | Collection 名稱
    | NFT名稱| Meta data 名稱
    | ID | 數值
    | 最後成交價 | 數值
    | 價格設定框 | 數值|數字輸入
    | 價格單位 Icon| ETH/BNB/Matic...
    | 平臺手續費（%） | 數值
    | NFT版稅（%） | 數值
    | 移除按鈕 | 點擊移除
- 上架市場開關（多選）
    - 站内（Contibit）
    - Opensea
- 設定上架期間（下拉日數）
- 右側 上架明細
    - 上架清單
        | 欄位 | 内容 | 説明 |
        | --- | --- | --- |
        | 縂售價 | ETH BNB |
        | 平臺手續費 | ETH BNB |
        | 版稅 | ETH BNB |
        | 完售收入 | ETH BNB |
        | 應付 Gas 費 | ETH BNB |
        | 選擇支付幣種 | ETH BNB USDT | USDT：帶入換匯計算結果 |
        | 實付金額 | ETH BNB USDT |
    - 執行上架按鈕
        ```mermaid
        flowchart TD
            s((start)) --> a[檢查錢包餘額並鎖定]
            a --> b[檢查是否依然持有 NFT]
            b --> c[回傳上架處理批號及清單]
            c --> z((end))
        ```
    - 處理清單
        ```mermaid
        flowchart TD
            s((start)) --> a[扣賬]
            a --> b[站内上架 123...]
            b --> c[外站上架 123...]
            c --> d[完成\n彈窗提示轉跳至 已上架頁面]
            d --> z((end))
        ```

---

## j)匯入 NFT 頁面
- 參考：[gem](https://www.gem.xyz/sell)
- 載入動作：無
- 連結冷錢包按鈕：顯示目前連接錢包地址
- 選擇公鏈：連結後自動設定，手動選擇時提示使用者切換冷錢包的公鏈
- 載入（更新）：發生錢包連結（connect）事件後或在頁面選擇公鏈後自動載入，後續點擊後重新拉取錢包内物件清單以更新頁面
- 格狀清單内容
    | 欄位 | 内容 | 説明 |
    | --- | --- | --- |
    | 鏈| ETH/BSC...
	| 圖 | NFT 主圖
	| 集合名稱| Collection 名稱
	| ID | 數值
	| NFT 名稱| Meta data 名稱
	| 單筆匯入按鈕 | 關聯會員、匯入錢包、並取得匯入地址. | 呼叫客戶端冷錢包執行 NFT 傳送交易.
- 右側 匯入清單：clear 按鈕
    - 清單
        | 欄位 | 内容 | 説明 |
        | --- | --- | --- |
    	| 圖| NFT 主圖
		| 集合名稱| Collection 名稱
		| ID | 數值
		| NFT 名稱| Meta data 名稱
        | 移除按鈕|點擊移除
    - 匯入按鈕
        - 單筆：
            - 使用 單筆匯入按鈕 流程
        - 多筆：
            ```mermaid
            flowchart TD
                s((start)) --> a[回傳清單進行關聯並\n取得各 NFT 匯入錢包地址]
                a --> b[呼叫冷錢包 執行批次轉賬合約]
                b --> z((end))
            ```
        
---

## k)基本資訊【頁面】
- 參考：[bitget](https://www.bitget.com/zh-TW/account/setting)
![](https://hackmd.io/_uploads/S1zJO1h99.png)
- 載入動作：載入會員各項基本設定資料
- email：目前登入賬號
- 密碼修改按鈕：彈窗
    | 欄位 | 内容 | 説明 |
    | --- | --- | --- |
    | 舊密碼|文字
    | 新密碼|文字
    | 確認新密碼|文字|需要與新密碼相符
    | 送出
- 手機修改按鈕：彈窗
    | 欄位 | 内容 | 説明 |
    | --- | --- | --- |
    | 新手機號碼|文字
    | 新手機驗證碼|文字|帶發送按鈕
    | 送出

---

## l)錢包【頁面】
- 參考：參考錢包内幣種列表排列方式，以及按鈕位置。下方為歷史記錄也是參照的重點。
    - ![](https://hackmd.io/_uploads/rkkmpaxPq.png)<br/>![](https://hackmd.io/_uploads/SkAS6alP5.png)
- 載入動作：載入會員錢包資訊及錢包的進出記錄（僅有提領或匯入錢包，不顯示交易相關記錄）
- 錢包清單：
    | 欄位 | 内容 | 説明 |
    | --- | --- | --- |
    | 幣種 | ETH/USDT/BNB...
    | 總額 | 數值
    | 鎖定額 | 數值
    | 可用餘額 | 數值
    | 加值按鈕 | 彈窗 | 以太鏈：存入地址<br/>幣安鏈：存入地址
    | 提領按鈕 | 彈窗 | 公鏈選擇：下拉<br/>存入地址：輸入框<br/>提領金額<br/>手機驗證碼：帶倒數送出驗證碼按鈕<br/>確認提領
- 進出明細：帶 更新按鈕
    | 欄位 | 内容 | 説明 |
    | --- | --- | --- |
    | 時間 | 日期
    | 幣種 | ETH/USDT/BNB...
    | 動作 | 加值/提領
    | 數量 | 數值
    | 狀態 | 已完成/處理中

---

## m)交易記錄【頁面】
- 參考：![](https://hackmd.io/_uploads/BJl3pTeDc.png)，參考日期區間選擇方式和歷史記錄的表格。
- 載入動作：載入最近一個月交易記錄（與交易相關，不需帶入錢包提領/匯入記錄）
- 日期區間：開始日期~結束日期
- 查詢按鈕
- 交易記錄：
    | 欄位 | 内容 | 説明 |
    | --- | --- | --- |
    | 時間 | 日期
    | 内容|幣種/NFT集合、編號
    | 動作|加值/提領/GAS/匯入/提領/購買/售出
    | 數量| 數值
    | 狀態 | 已完成/處理中
- 分頁

---

## n)我的 Widget 頁面
- 載入動作：載入登入使用者 widgets 清單
- 切換顯示已刪除項目
- 清單
    | 欄位 | 内容 | 説明 |
    | --- | --- | --- |
    | widget 名稱|文字|自定義名稱
    | 建立日期|日期
    | 狀態|啓用/停用/測試/待審
    | 所屬公鏈|ETH/BSC...
    | 交易次數 | 數值
    | 交易數量 | 數值
    | 交易總額 | 數值
    | 圖 |  主圖
    | 檢視/編輯| 動作按鈕
- 新增Widget按鈕：彈出編輯視窗
    | 欄位 | 内容 | 説明 |
    | --- | --- | --- |
    | widget 名稱|文字|自定義名稱
    | NFT 系列名稱 | Collection 名稱
    | 大圖（系列）|  圖
    | 小圖（卡面）|  圖
    | 官網/社區 | 網址
    | 成功返回網址 | 固定為 我的 NFT 頁面 | 以入賬時間倒排序
    | 取消返回網址| 網址
    | 所屬公鏈 | 選擇公鏈後帶入原生幣種單位
    | 合約地址| 地址
    | 鑄造函數名稱|文字
    | 帶入參數 | 數量 | 無<br/> 固定<br/> 範圍：min/max
    | 購買數量 || 固定<br/>同帶入參數
    | 傳送金額 || 固定<br/>單價：倍數於帶入參數
    | 動作按鈕 |儲存/送審/待審（取消）<br/>/停用/測試
    | widget 編號 | 數值
    | 購買連結 | 顯示系統產生連結| 唯讀
    | 嵌入程式碼| 顯示系統產生HTML| 唯讀

---

## o)Widget 登入/註冊頁面（外部）
<!-- - 參考：[]() -->
- 載入動作：已登入者跳轉至 執行交易頁，否則依 widget 編號載入資訊
- 上部
    | 欄位 | 内容 | 説明 |
    | --- | --- | --- |
    | widget 資訊 | 專案建立資訊
    | 交易流程説明 | 圖文説明
- 左側：同登入頁面
- 右側：同注冊頁面
- 登入後跳轉至 執行交易頁

---

## p)Widget 執行交易頁面（外部）
<!-- - 參考：[]() -->
- 載入動作：依 widget 編號載入商品資訊、載入使用者及其錢包資訊
- 登出/取消 按鈕：跳轉至 widget 設定取消頁面
- 上部
    | 欄位 | 内容 | 説明 |
    | --- | --- | --- |
    | widget 資訊 | 專案建立資訊
    | 交易流程説明 | 圖文説明
- 左側：商品資訊（數量）
    | 欄位 | 内容 | 説明 |
    | --- | --- | --- |
    | 商品總額| 數值
    | GAS 費用| 數值
    | 應付總額（原生幣）| 數值
- 右側：
    | 欄位 | 内容 | 説明 |
    | --- | --- | --- |
    | 登入者資訊|文字
    | 支付設定 | 選項 | ETH：支付額/錢包餘額<br/>USDT：換匯額/支付額/錢包餘額
    | 支付總額（ETH）| 數值
- 執行交易按鈕
    ```mermaid
    flowchart TD
        s((start)) --> a[回傳清單進行關聯並\n取得各 NFT 匯入錢包地址]
        a --> b[呼叫冷錢包 執行批次轉賬合約]
        b --> z((end))
    ```
- 執行狀態
    ```mermaid
    flowchart TD
        s((start)) --> a[執行換匯]
        a --> c[鎖閉交易額]
        c --> d[執行鏈上交易 ...]
        d --> e[確認鏈上交易 ...]
        e --> f[扣賬]
        f --> g[返還 gas 餘額]
        g --> h[成功\n提示後轉跳至 我的NFT頁面]
        h --> z((end))
    ```

---
